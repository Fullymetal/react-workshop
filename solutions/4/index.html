<!DOCTYPE html>
<html>
<head>
	<title>Exercise 4</title>
	<link rel="stylesheet" type="text/css" href="styles.css">
	<link rel="stylesheet" type="text/css" href="../common/common.css">

	<script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
	<script crossorigin src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
</head>
<body>
	<div id="app"></div>
	<script type="text/babel">
		/* Excercise 4 */
		class Search extends React.Component {
			state = { searchString: '' };
			handleChange = e => {
				this.setState({ searchString: e.target.value });
			};
			render() {
				let libraries = this.props.items;
				const searchString = this.state.searchString.trim().toLowerCase();

				libraries = libraries.filter(
					library => library.name.toLowerCase().match(searchString)
				);

				return (
					<div>
						<input 
							value={this.state.searchString} 
							onChange={this.handleChange} 
							placeholder="Type here" 
						/>
						<ul> 
							{libraries.map((lib, index) => (
								<li key={index}>
									{lib.name} <a href={lib.url}>{lib.url}</a>
								</li>
							))}
						</ul>
					</div>
				);
			}
		}																																				 
	const libraries = [
		{ name: 'Backbone.js', url: 'http://documentcloud.github.io/backbone/'},
		{ name: 'AngularJS', url: 'https://angularjs.org/'},
		{ name: 'jQuery', url: 'http://jquery.com/'},
		{ name: 'Prototype', url: 'http://www.prototypejs.org/'},
		{ name: 'React', url: 'http://facebook.github.io/react/'},
		{ name: 'Ember', url: 'http://emberjs.com/'},
		{ name: 'Knockout.js', url: 'http://knockoutjs.com/'},
		{ name: 'Dojo', url: 'http://dojotoolkit.org/'},
		{ name: 'Mootools', url: 'http://mootools.net/'},
		{ name: 'Underscore', url: 'http://documentcloud.github.io/underscore/'},
		{ name: 'Lodash', url: 'http://lodash.com/'},
		{ name: 'Moment', url: 'http://momentjs.com/'},
		{ name: 'Express', url: 'http://expressjs.com/'},
		{ name: 'Koa', url: 'http://koajs.com/'},
	];

	ReactDOM.render(
		<Search items={libraries} />,
		document.getElementById('app')
	);
	</script>
</body>
</html>
